<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.medicalsystem.mapper.PrescriptionInfoMapper">
    <resultMap id="BaseResultMap" type="com.test.medicalsystem.entity.PrescriptionInfo">
        <id column="pid" jdbcType="INTEGER" property="pid"/>
        <result column="stu_register" jdbcType="VARCHAR" property="stuRegister"/>
        <result column="doc_num" jdbcType="VARCHAR" property="docNum"/>
        <result column="doc_name" jdbcType="VARCHAR" property="docName"/>
        <result column="stu_num" jdbcType="VARCHAR" property="stuNum"/>
        <result column="stu_name" jdbcType="VARCHAR" property="stuName"/>
        <result column="diagnostic_results" jdbcType="VARCHAR" property="diagnosticResults"/>
        <result column="medic_news" jdbcType="VARCHAR" property="medicNews"/>
        <result column="medic_way" jdbcType="VARCHAR" property="medicWay"/>
        <result column="medic_money" jdbcType="DOUBLE" property="medicMoney"/>
        <result column="advice_time" jdbcType="VARCHAR" property="adviceTime"/>
    </resultMap>

    <sql id="Base_Column_List">
        pid,stu_register,doc_num,doc_name,stu_num,stu_name,diagnostic_results,medic_news,
        medic_way,medic_money,advice_time
    </sql>

<!--    处方信息表-->
    <insert id="insertPrescriptionInfo" parameterType="com.test.medicalsystem.entity.PrescriptionInfo">
        insert into prescription_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pid !=null">
                pid,
            </if>
            <if test="stuRegister !=null">
                stu_register,
            </if>
            <if test="docNum !=null">
                doc_num,
            </if>
            <if test="docName !=null">
                doc_name,
            </if>
            <if test="stuNum !=null">
                stu_num,
            </if>
            <if test="stuName !=null">
                stu_name,
            </if>
            <if test="diagnosticResults !=null">
                diagnostic_results,
            </if>
            <if test="medicNews !=null">
                medic_news,
            </if>
            <if test="medicWay !=null">
                medic_way,
            </if>
            <if test="medicMoney !=null">
                medic_money,
            </if>
            <if test="adviceTime !=null">
                advice_time,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="pid !=null">
                #{pid,jdbcType=INTEGER},
            </if>
            <if test="stuRegister !=null">
                #{stuRegister,jdbcType=VARCHAR},
            </if>
            <if test="docNum !=null">
                #{docNum,jdbcType=VARCHAR},
            </if>
            <if test="docName !=null">
                #{docName,jdbcType=VARCHAR},
            </if>
            <if test="stuNum !=null">
                #{stuNum,jdbcType=VARCHAR},
            </if>
            <if test="stuName !=null">
                #{stuName,jdbcType=VARCHAR},
            </if>
            <if test="diagnosticResults !=null">
                #{diagnosticResults,jdbcType=VARCHAR},
            </if>
            <if test="medicNews !=null">
                #{medicNews,jdbcType=VARCHAR},
            </if>
            <if test="medicWay !=null">
                #{medicWay,jdbcType=VARCHAR},
            </if>
            <if test="medicMoney !=null">
                #{medicMoney,jdbcType=DOUBLE},
            </if>
            <if test="adviceTime !=null">
                #{adviceTime,jdbcType=VARCHAR},
            </if>

        </trim>
    </insert>

    <update id="updatePrescriptionInfoBystuRegister" parameterType="com.test.medicalsystem.entity.PrescriptionInfo">
        update prescription_info
        <set>
            <if test="docNum !=null">
                doc_num = #{docNum,jdbcType=VARCHAR},
            </if>
            <if test="docName !=null">
                doc_name = #{docName,jdbcType=VARCHAR},
            </if>
            <if test="stuNum !=null">
                stu_num = #{stuNum,jdbcType=VARCHAR},
            </if>
            <if test="stuName !=null">
                stu_name = #{stuName,jdbcType=VARCHAR},
            </if>
            <if test="diagnosticResults !=null">
                diagnostic_results = #{diagnosticResults,jdbcType=VARCHAR},
            </if>
            <if test="medicNews !=null">
                medic_news = #{medicNews,jdbcType=VARCHAR},
            </if>
            <if test="medicWay !=null">
                medic_way = #{medicWay,jdbcType=VARCHAR},
            </if>
            <if test="medicMoney !=null">
                medic_money = #{medicMoney,jdbcType=DOUBLE},
            </if>
            <if test="adviceTime !=null">
                advice_time = #{adviceTime,jdbcType=VARCHAR},
            </if>
        </set>
        where
        stu_register = #{stuRegister,jdbcType=VARCHAR}
    </update>

<!--    删除by编号-->
    <delete id="deleteBystuRegister" parameterType="java.lang.String">
        delete from prescription_info
        where
        stu_register = #{stuRegister,jdbcType=VARCHAR}
    </delete>


</mapper>
    